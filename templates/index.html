{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Cross No. 4 | Winneba</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --red: #e60000;
            --dark: #000000;
            --glass: rgba(255, 255, 255, 0.03);
            --transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        html { scroll-behavior: smooth; }
        body { 
            margin: 0; padding: 0; 
            font-family: 'Inter', sans-serif; 
            background: var(--dark); 
            color: #fff; 
            overflow-x: hidden;
        }

        /* NAVIGATION */
        nav {
            position: fixed; top: 0; width: 100%; padding: 20px 0; z-index: 1000;
            display: flex; justify-content: center; gap: 30px;
            background: rgba(0, 0, 0, 0.9); border-bottom: 2px solid var(--red);
        }
        nav a {
            color: #fff; text-decoration: none; font-weight: 700;
            font-size: 0.8rem; letter-spacing: 2px; text-transform: uppercase;
        }

        /* HERO SECTION */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.8)), 
                        url("{% static 'images/Kobby.JPG' %}") no-repeat center center/cover;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
        }
        .hero h1 { font-family: 'Anton', sans-serif; font-size: clamp(2rem, 8vw, 4.5rem); text-transform: uppercase; margin:0; }
        .red-highlight { color: var(--red); }
        .slogan-box {
            background: #fff; color: #000; padding: 10px 30px; font-weight: 900;
            transform: skew(-15deg); margin-top: 20px;
        }

        /* HISTORY SECTION */
        #history { padding: 100px 5%; background: #050505; }
        .section-title {
            text-align: center; font-family: 'Anton'; font-size: clamp(2.5rem, 10vw, 4rem);
            color: var(--red); margin-bottom: 50px; text-transform: uppercase;
        }
        .history-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px; max-width: 1300px; margin: 0 auto;
        }
        .history-card {
            background: var(--glass); padding: 40px; border-radius: 20px;
            border: 1px solid rgba(230, 0, 0, 0.1); transition: var(--transition);
            min-height: 380px; cursor: pointer;
        }
        .history-card:hover {
            transform: scale(1.05); background: rgba(230, 0, 0, 0.05);
            border-color: var(--red); box-shadow: 0 15px 40px rgba(230, 0, 0, 0.2);
        }
        .history-card h3 { font-family: 'Anton'; color: var(--red); margin-bottom: 20px; text-transform: uppercase; }
        .typewriter-text { font-size: 0.95rem; line-height: 1.7; color: #eee; }

        /* GALLERY SECTION */
        #gallery { padding: 100px 0; background: #000; }
        .gallery-viewport {
            width: 90%; max-width: 1200px; margin: 0 auto; height: 650px;
            position: relative; border-radius: 20px; overflow: hidden;
            border: 1px solid rgba(230, 0, 0, 0.3);
        }
        .costume-slide {
            position: absolute; inset: 0; opacity: 0;
            transition: opacity 1.2s ease-in-out; background-size: cover; background-position: center;
        }
        .costume-slide.active { opacity: 1; }
        .slide-info {
            position: absolute; bottom: 0; left: 0; width: 100%; padding: 40px;
            background: linear-gradient(transparent, rgba(0,0,0,0.9));
        }
        .slide-counter {
            position: absolute; top: 20px; right: 20px; background: var(--red);
            padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.8rem;
        }
    </style>
</head>
<body>

    <nav>
        <a href="#home">Home</a>
        <a href="#history">History</a>
        <a href="#gallery">Costumes</a>
    </nav>

    <section id="home" class="hero">
        <h1>RED CROSS NO. 4 <span class="red-highlight">MASQUERADE</span></h1>
        <h1 class="red-highlight" style="font-size: clamp(3rem, 12vw, 6rem);">RED AHHHH!</h1>
        <div class="slogan-box">YEREBO ARA EWU</div>
    </section>

    <section id="history">
        <h2 class="section-title">Our Heritage</h2>
        <div class="history-grid">
            <div class="history-card" onmouseenter="startTyping(this)">
                <h3>Origins & Foundation</h3>
                <div class="typewriter-text" data-text="Established in 1942 in Abasraba[cite: 3]. The Winneba Masquerade Festival was created to intensify merry-making during Christmas[cite: 2]. Red Cross No. 4 held its first official outing in 1943 after the first three groups were already formed[cite: 4, 5]."></div>
            </div>

            <div class="history-card" onmouseenter="startTyping(this)">
                <h3>The Originator</h3>
                <div class="typewriter-text" data-text="Founded by J.C. Yamoah, a watch mechanic[cite: 6, 9]. The name was inspired by the merchant ship M.V. Red Cross, which brought goods to Winneba. He used masks and the Undis Brass Band provided by his uncle, Mr. Erskin Yamoah[cite: 6, 10]."></div>
            </div>

            <div class="history-card" onmouseenter="startTyping(this)">
                <h3>Founding Members</h3>
                <div class="typewriter-text" data-text="J.E. Paintsil: Sanitary Inspector.&#10;Inso Mitchual: Sculptor of the M.V. Red Cross ship [cite: 11, 16].&#10;Korsa Acheampong: Woman actor[cite: 11].&#10;Mr. Turkson: Lady actor [cite: 13].&#10;Pkapo Hoffmann: Carpenter[cite: 11]."></div>
            </div>

            <div class="history-card" onmouseenter="startTyping(this)">
                <h3>Achievements</h3>
                <div class="typewriter-text" data-text="In 1957, during the Independence Celebration at Major Humphreyâ€™s Park, the group won first place. Today, the group has over 200 members and is a vibrant part of the community [cite: 18, 21].&#10;&#10;Presented by: Tom Peter Paintsil[cite: 23]."></div>
            </div>
        </div>
    </section>

    <section id="gallery">
        <h2 class="section-title">Costume Showcase</h2>
        <div class="gallery-viewport" id="galleryViewport"></div>
    </section>

    <footer style="text-align: center; padding: 60px; opacity: 0.5; border-top: 1px solid var(--glass);">
        <p>Presented by Tom Peter Paintsil (The Group Father) [cite: 23]</p>
        <p>&copy; 2026 Red Cross No. 4 Masquerade Group</p>
    </footer>

    <script>
        // --- 1. TYPEWRITER LOGIC ---
        function startTyping(card) {
            const textElement = card.querySelector('.typewriter-text');
            const fullText = textElement.getAttribute('data-text');
            if (textElement.innerHTML === "") {
                let i = 0;
                function type() {
                    if (i < fullText.length) {
                        textElement.innerHTML += fullText.charAt(i) === '\n' ? '<br>' : fullText.charAt(i);
                        i++;
                        setTimeout(type, 15); 
                    }
                }
                type();
            }
        }

        // --- 2. GALLERY INJECTION ---
        const gallery = document.getElementById('galleryViewport');
        const totalCostumes = 35;
        const staticBase = "{% static 'images/gallery/' %}"; 

        for (let i = 1; i <= totalCostumes; i++) {
            const slide = document.createElement('div');
            slide.className = `costume-slide ${i === 1 ? 'active' : ''}`;
            slide.style.backgroundImage = `url('${staticBase}costume ${i}.JPG')`;
            slide.innerHTML = `
                <div class="slide-counter">Costume ${i} / ${totalCostumes}</div>
                <div class="slide-info">
                    <h3 style="font-family: 'Anton'; text-transform: uppercase;">Red Cross No. 4 Artistry</h3>
                    <p>Traditional Winneba Masquerade Craftsmanship</p>
                </div>`;
            gallery.appendChild(slide);
        }

        // --- 3. ROTATION LOGIC ---
        let currentIdx = 0;
        const slides = document.querySelectorAll('.costume-slide');
        setInterval(() => {
            if(slides.length > 0) {
                slides[currentIdx].classList.remove('active');
                currentIdx = (currentIdx + 1) % slides.length;
                slides[currentIdx].classList.add('active');
            }
        }, 3500);
    </script>
</body>
</html>