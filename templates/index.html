{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Red Cross No. 4 | Winneba</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@400;700;900&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --red: #e60000;
        --dark: #000000;
        --glass: rgba(255, 255, 255, 0.03);
        --transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      html {
        scroll-behavior: smooth;
      }
      body {
        margin: 0;
        padding: 0;
        font-family: "Inter", sans-serif;
        background: var(--dark);
        color: #fff;
        overflow-x: hidden;
      }

      nav {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 20px 0;
        z-index: 1000;
        display: flex;
        justify-content: center;
        gap: 30px;
        background: rgba(0, 0, 0, 0.9);
        border-bottom: 2px solid var(--red);
      }
      nav a {
        color: #fff;
        text-decoration: none;
        font-weight: 700;
        font-size: 0.8rem;
        text-transform: uppercase;
      }

      /* FIXED HERO BACKGROUND - Matching Kobby.JPG exactly */
      .hero {
        height: 100vh;
        background:
          linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.8)),
          url("{% static 'images/kobby.jpg' %}") no-repeat center center/cover;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
      }
      .hero h1 {
        font-family: "Anton", sans-serif;
        font-size: clamp(2rem, 8vw, 4.5rem);
        text-transform: uppercase;
      }
      .red-highlight {
        color: var(--red);
      }
      .slogan-box {
        background: #fff;
        color: #000;
        padding: 10px 30px;
        font-weight: 900;
        transform: skew(-15deg);
        margin-top: 20px;
      }

      #history {
        padding: 100px 5%;
        background: #050505;
      }
      .history-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 30px;
        max-width: 1300px;
        margin: 0 auto;
      }
      .history-card {
        background: var(--glass);
        padding: 40px;
        border-radius: 20px;
        border: 1px solid rgba(230, 0, 0, 0.1);
        transition: var(--transition);
        min-height: 380px;
      }
      .history-card:hover {
        transform: scale(1.05);
        background: rgba(230, 0, 0, 0.05);
        border-color: var(--red);
      }
      .typewriter-text {
        font-size: 0.95rem;
        line-height: 1.7;
        color: #eee;
      }

      #gallery {
        padding: 100px 0;
        background: #000;
      }
      .gallery-viewport {
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
        height: 650px;
        position: relative;
        border-radius: 20px;
        overflow: hidden;
        border: 1px solid rgba(230, 0, 0, 0.3);
      }
      .costume-slide {
        position: absolute;
        inset: 0;
        opacity: 0;
        transition: opacity 1.2s ease-in-out;
        background-size: cover;
        background-position: center;
      }
      .costume-slide.active {
        opacity: 1;
      }
      .slide-counter {
        position: absolute;
        top: 20px;
        right: 20px;
        background: var(--red);
        padding: 5px 15px;
        border-radius: 20px;
        font-weight: bold;
        font-size: 0.8rem;
      }
    </style>
  </head>
  <body>
    <nav>
      <a href="#home">Home</a>
      <a href="#history">History</a>
      <a href="#gallery">Costumes</a>
    </nav>

    <section id="home" class="hero">
      <h1>RED CROSS NO. 4 <span class="red-highlight">MASQUERADE</span></h1>
      <h1 class="red-highlight" style="font-size: clamp(3rem, 12vw, 6rem)">
        RED AHHHH!
      </h1>
      <div class="slogan-box">YEREBO ARA EWU</div>
    </section>

    <section id="history">
      <h2
        class="text-center mb-5"
        style="
          font-family: &quot;Anton&quot;;
          color: var(--red);
          font-size: 3.5rem;
        "
      >
        OUR HERITAGE
      </h2>
      <div class="history-grid">
        <div class="history-card" onmouseenter="startTyping(this)">
          <h3>Origins & Foundation</h3>
          <div
            class="typewriter-text"
            data-text="Established in 1942 in Abasraba. The Winneba Masquerade Festival was created to intensify merry-making. Red Cross No. 4 held its first official outing in 1943."
          ></div>
        </div>
        <div class="history-card" onmouseenter="startTyping(this)">
          <h3>The Originator</h3>
          <div
            class="typewriter-text"
            data-text="Founded by J.C. Yamoah, a watch mechanic. The name was inspired by the merchant ship M.V. Red Cross. He used masks provided by his uncle, Mr. Erskin Yamoah."
          ></div>
        </div>
        <div class="history-card" onmouseenter="startTyping(this)">
          <h3>Achievements</h3>
          <div
            class="typewriter-text"
            data-text="In 1957, during the Independence Celebration at Major Humphreyâ€™s Park, the group won first place. Today, membership is over 200 people."
          ></div>
        </div>
      </div>
    </section>

    <section id="gallery">
      <div class="gallery-viewport" id="galleryViewport"></div>
    </section>

    <script>
      function startTyping(card) {
        const textElement = card.querySelector(".typewriter-text");
        const fullText = textElement.getAttribute("data-text");
        if (textElement.innerHTML === "") {
          let i = 0;
          function type() {
            if (i < fullText.length) {
              textElement.innerHTML += fullText.charAt(i);
              i++;
              setTimeout(type, 15);
            }
          }
          type();
        }
      }

      const gallery = document.getElementById("galleryViewport");
      // Use a standard relative path for the live server
      const staticBase = "/static/images/gallery/";

      for (let i = 1; i <= 35; i++) {
        const slide = document.createElement("div");
        slide.className = `costume-slide ${i === 1 ? "active" : ""}`;
        // Use filenames without spaces and lowercase to match static files
        slide.style.backgroundImage = `url('${staticBase}costume${i}.jpg')`;
        slide.innerHTML = `<div class="slide-counter">Costume ${i} / 35</div>`;
        gallery.appendChild(slide);
      }

      let currentIdx = 0;
      setInterval(() => {
        const slides = document.querySelectorAll(".costume-slide");
        if (slides.length > 0) {
          slides[currentIdx].classList.remove("active");
          currentIdx = (currentIdx + 1) % slides.length;
          slides[currentIdx].classList.add("active");
        }
      }, 3500);
    </script>
  </body>
</html>
